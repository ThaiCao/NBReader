# NBBook 标签

该文档是针对 nbbook.so 文件解析文本，生成的中间 nbbook 数据结构文档。

nbbook 当前存在如下标签类型：

1. TextTag：文本标签。用于标记文本
2. ControlTag：控制标签。用于标记控制信息(如：文本样式)
3. ParagraphTag：段落标签。用于存储文本的段落信息。

## TextTag

数据结构：占用 (6 + 文本字节数) 格式为 | 标签类型 | 边缘对齐 | 文本字节长度 | 文本内容
 
1. 标签类型：占用 1 字节。
2. 边缘对齐：占用 1 字节。 (好像不一定要边缘对齐，应该可以删除掉这个，之后再说)
3. 文本字节长度：占用 4 字节
4. 文本内容：占用文本长度字节。

## ControlTag

数据结构：占用 4 字节，格式为 | 标签类型 | 边缘对齐 | 样式标签 | 是开放标签还是闭合标签 |
 
1. 标签类型：占用 1 字节。
2. 边缘对齐：占用 1 字节。
3. 样式标签：占用 1 字节 ==> 详见 TextParagraph::Type
4. 标签类型：占用 1 字节 ==> 0 或者是 1

## ParagraphTag (待定，后续会修改)

数据结构：占用 4 字节，格式为 | 标签类型 | 边对齐 | 段落类型 | 边缘对齐 |

1. 标签类型：占用 1 字节
2. 边缘对齐：占用 1 字节。
3. 段落类型：占用 1 字节 ==> 详见 TextParagraph::Type
4. 边缘对齐：占用 1 字节 ==> 0